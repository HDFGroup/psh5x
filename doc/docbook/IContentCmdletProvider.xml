<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="http://www.oasis-open.org/docbook/xml/5.0/rng/docbookxi.rng" schematypens="http://relaxng.org/ns/structure/1.0"?>
<sect1 xml:id="icontent_cmdlet_provider" xmlns="http://docbook.org/ns/docbook"
    xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink"
    version="5.0">

    <title>IContentCmdletProvider</title>
    <para> According to <xref linkend="items_et_properties_table"/>, only HDF5 datasets are
        considered to have content. PSH5X implements the <literal>IContentCmdletProvider</literal>
        interface providing row- or stream-oriented access to a dataset's data elements.</para>

    <sect2 xml:id="get_content">
        <title><literal>Get-Content</literal></title>
        <para>Gets the content of the item at the specified location.</para>
        <cmdsynopsis>
            <command>Get-Content</command>
            <arg choice="req">-Path <replaceable>string[]</replaceable></arg>
            <arg choice="opt">-ReadCount <replaceable>Int64</replaceable></arg>
            <arg choice="opt">-TotalCount <replaceable>Int64</replaceable></arg>
            <sbr/>
            <arg choice="opt">-Hyperslab <replaceable>Int64[4]</replaceable></arg>
            <arg choice="opt">-PointSet <replaceable>Int64[,]</replaceable></arg>
        </cmdsynopsis>
        <para>The <literal>Get-Content</literal> cmdlet gets the content of the item at the location
            specified by the path, such as the text in a file. It reads the content one line at a
            time and returns an object for each line.</para>
        <variablelist>
            <varlistentry>
                <term>-Path</term>
                <listitem>
                    <para>An HDF5 path name referring to the HDF5 dataset whose content is to be
                        accessed</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>-ReadCount</term>
                <listitem>
                    <para>Specifies how many lines of content are sent through the pipeline at a
                        time. The default value is 1. A value of 0 (zero) sends all of the content
                        at one time.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>-TotalCount</term>
                <listitem>
                    <para> Specifies how many lines of content are retrieved. The default is -1 (all
                        lines).</para>
                </listitem>
            </varlistentry>
        </variablelist>
        <para/>
        <note>
            <para>The release version of PSH5X will support versions of
                    <literal>Get-Content</literal> that support hyperslabs and point
                selections.</para>
        </note>
        <example>
            <title>Getting the first 10 elements of a dataset</title>
            <screen><prompt>PS:1 ></prompt> <command>Get-Content h5tmp:\dset1 -TotalCount 10</command>
0
1
2
3
4
5
6
7
8
9</screen>
        </example>
    </sect2>

    <sect2 xml:id="set_content">
        <title><literal>Set-Content</literal></title>
        <para>Writes or replaces the content in an item with new content.</para>
        <cmdsynopsis>
            <command>Set-Content</command>
            <arg choice="req">-Path <replaceable>string[]</replaceable></arg>
            <arg choice="req">-Value <replaceable>Object[]</replaceable></arg>
            <sbr/>
            <arg choice="opt">-Hyperslab <replaceable>Int64[4]</replaceable></arg>
            <arg choice="opt">-PointSet <replaceable>Int64[,]</replaceable></arg>
        </cmdsynopsis>
        <para>The <literal>Set-Content</literal> cmdlet is a string-processing cmdlet that writes or
            replaces the content in the specified item, such as a file. Whereas the
                <literal>Add-Content</literal> cmdlet appends content to a file,
                <literal>Set-Content</literal> replaces the existing content. You can type the
            content in the command or send content through the pipeline to
                <literal>Set-Content</literal>.</para>
        <variablelist>
            <varlistentry>
                <term>-Path</term>
                <listitem>
                    <para>An HDF5 path name referring to the HDF5 dataset whose content is to be
                        accessed</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>-Value</term>
                <listitem>
                    <para>Specifies the new content for the item.</para>
                </listitem>
            </varlistentry>
        </variablelist>
        <note>
            <para>The release version of PSH5X will support versions of
                    <literal>Set-Content</literal> that support hyperslabs and point
                selections.</para>
        </note>
        <example>
            <title>Setting the content of a dataset from a one- or two-dimensional array</title>
            <screen><prompt>PS:1 ></prompt> <command>(Get-Item h5tmp:\dset1).Dimensions</command>
10
10
<prompt>PS:2 ></prompt> <command>(Get-Item h5tmp:\dset1).ElementType</command>

Name                           Value
----                           -----
SignType                       2
BitOffset                      0
Class                          INTEGER
MSBitPadding                   Zero
Precision                      32
LSBitPadding                   Zero
ByteOrder                      BE
Size                           4

<prompt>PS:3 ></prompt> <command>$a = New-Object 'int[]' 100</command>
<prompt>PS:4 ></prompt> <command>for ($i = 0; $i -lt $a.Length; $i++) { $a[$i] = $i*$i }</command>
<prompt>PS:5 ></prompt> <command>Set-Content h5tmp:\dset1 $a</command>
<prompt>PS:6 ></prompt> <command>$b = New-Object 'int[,]' 10,10</command>
<prompt>PS:7 ></prompt> <command>for ($i = 0; $i -lt 10; $i++) { $b[$i,$i] = $i }</command>
<prompt>PS:8 ></prompt> <command>Set-Content h5tmp:\dset1 $b</command></screen>
        </example>
    </sect2>

    <sect2 xml:id="add_content">
        <title><literal>Add-Content</literal></title>
        <para>Adds content to the specified HDF5 dataset.</para>
        <cmdsynopsis>
            <command>Add-Content</command>
            <arg choice="req">-Path <replaceable>string[]</replaceable></arg>
            <arg choice="req">-Value <replaceable>Object[]</replaceable></arg>
        </cmdsynopsis>

        <para>The <literal>Add-Content</literal> cmdlet appends content to a specified HDF5 dataset.
            The dataset must be chunked and extendible, i.e., one ore more of its dimensions must be
            less than its maximum dimensions. You can specify the content by typing the content in
            the command or by specifying an object that contains the content.</para>
        <variablelist>
            <varlistentry>
                <term>-Path</term>
                <listitem>
                    <para>Specifies the path to the items that receive the additional content.
                        Wildcards are permitted. If you specify multiple paths, use commas to
                        separate the paths.</para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>-Value</term>
                <listitem>
                    <para>Specifies the content to be added. For example, you can use a
                            <literal>Get-Content</literal> command to get the content and pass it to
                        the <literal>Value</literal> parameter. </para>
                </listitem>
            </varlistentry>
        </variablelist>

        <note>
            <para>Under development.</para>
        </note>
    </sect2>

    <sect2 xml:id="clear_content">
        <title><literal>Clear-Content</literal></title>
        <note>
            <para>Not implemented. Reset a dataset to a default value or the fill value?</para>
        </note>
    </sect2>

</sect1>
